<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Calculates two levels of segregation: a multi-group segregation metric
for each larger geographic unit supplied, as well as a decomposed version of the
same metric for each smaller geographic unit. Only geographies that are perfectly
nested within one another, e.g., tracts within counties, are supported. Note
that all segregation calculations rely on `segregation` and users should refer
to that package at https://github.com/elbersb/segregation for further implementation
details."><title>Calculates two levels of segregation: a multi-group segregation metric
for each larger geographic unit supplied, as well as a decomposed version of the
same metric for each smaller geographic unit. Only geographies that are perfectly
nested within one another, e.g., tracts within counties, are supported. Note
that all segregation calculations rely on `segregation` and users should refer
to that package at https://github.com/elbersb/segregation for further implementation
details. — calculate_segregation_metrics • urbnindicators</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculates two levels of segregation: a multi-group segregation metric
for each larger geographic unit supplied, as well as a decomposed version of the
same metric for each smaller geographic unit. Only geographies that are perfectly
nested within one another, e.g., tracts within counties, are supported. Note
that all segregation calculations rely on `segregation` and users should refer
to that package at https://github.com/elbersb/segregation for further implementation
details. — calculate_segregation_metrics"><meta property="og:description" content="Calculates two levels of segregation: a multi-group segregation metric
for each larger geographic unit supplied, as well as a decomposed version of the
same metric for each smaller geographic unit. Only geographies that are perfectly
nested within one another, e.g., tracts within counties, are supported. Note
that all segregation calculations rely on `segregation` and users should refer
to that package at https://github.com/elbersb/segregation for further implementation
details."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">urbnindicators</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Calculates two levels of segregation: a multi-group segregation metric
for each larger geographic unit supplied, as well as a decomposed version of the
same metric for each smaller geographic unit. Only geographies that are perfectly
nested within one another, e.g., tracts within counties, are supported. Note
that all segregation calculations rely on `segregation` and users should refer
to that package at https://github.com/elbersb/segregation for further implementation
details.</h1>
      
      <div class="d-none name"><code>calculate_segregation_metrics.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates two levels of segregation: a multi-group segregation metric
for each larger geographic unit supplied, as well as a decomposed version of the
same metric for each smaller geographic unit. Only geographies that are perfectly
nested within one another, e.g., tracts within counties, are supported. Note
that all segregation calculations rely on `segregation` and users should refer
to that package at https://github.com/elbersb/segregation for further implementation
details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calculate_segregation_metrics</span><span class="op">(</span><span class="va">data</span>, <span class="va">nesting_geography_geoid_length</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A dataframe containing a `GEOID` column and the required input measures,
e.g., of race or income, at a single geography (e.g., tract), formatted wide.
the GEOID column must be a character column, and each GEOID must be unique.
inputted data cannot contain other measures. for example: tibble::tribble(
    ~GEOID, ~race_nonhispanic_white_alone, ~race_nonhispanic_black_alone,
    "37001020100", 2835, 1035,
    "37001020200", 1205, 1321)</p></dd>


<dt>nesting_geography_geoid_length</dt>
<dd><p>The length of the GEOID that identifies nesting
geographies. For example, if smaller_geography_data is defined at the tract
level (with a GEOID of length 11), then nesting_geography_geoid_length = 5 would
return segregation metrics for counties (which have a GEOID of length 5) and
for tracts (relative to other tracts within the same county).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A dataframe comprising segregation estimates and associated p-values at both
   geographic levels. Segregation is measured using the Mutual Information Index
   (M) at the larger geography and a decomposed version thereof at the smaller
   geography level.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Functions used for underlying segregation calculations are from the `segregation` package.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">variables</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  race_nonhispanic_white_alone_ <span class="op">=</span> <span class="st">"B03002_003"</span>,</span></span>
<span class="r-in"><span>  race_nonhispanic_black_alone_ <span class="op">=</span> <span class="st">"B03002_004"</span>,</span></span>
<span class="r-in"><span>  race_nonhispanic_native_alone_ <span class="op">=</span> <span class="st">"B03002_005"</span>,</span></span>
<span class="r-in"><span>  race_nonhispanic_asian_alone_ <span class="op">=</span> <span class="st">"B03002_006"</span>,</span></span>
<span class="r-in"><span>  race_nonhispanic_nhpi_alone_ <span class="op">=</span> <span class="st">"B03002_007"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">test_data</span> <span class="op">=</span> <span class="fu">tidycensus</span><span class="fu">::</span><span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html" class="external-link">get_acs</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  geography <span class="op">=</span> <span class="st">"tract"</span>,</span></span>
<span class="r-in"><span>  state <span class="op">=</span> <span class="st">"CT"</span>,</span></span>
<span class="r-in"><span>  variables <span class="op">=</span> <span class="va">variables</span>,</span></span>
<span class="r-in"><span>  output <span class="op">=</span> <span class="st">"wide"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="co">## can only include a dataframe with a GEOID column and segregation-related measures</span></span></span>
<span class="r-in"><span>   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">NAME</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Getting data from the 2017-2021 5-year ACS</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span><span style="color: #00BBBB;">•</span> You have not set a Census API key. Users without a key are limited to 500</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> queries per day and may experience performance limitations.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">ℹ</span> For best results, get a Census API key at</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> http://api.census.gov/data/key_signup.html and then supply the key to the</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> `census_api_key()` function to use it throughout your tidycensus session.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">This warning is displayed once per session.</span></span>
<span class="r-in"><span><span class="fu">calculate_segregation_metrics</span><span class="op">(</span>data <span class="op">=</span> <span class="va">test_data</span>, nesting_geography_geoid_length <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(GEOID)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 883 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    GEOID       segregation_small_geog…¹ p_small_geography segregation_large_ge…²</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 09001010101                   0.094<span style="text-decoration: underline;">0</span>           0.005<span style="text-decoration: underline;">41</span>                  0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 09001010102                   0.142            0.005<span style="text-decoration: underline;">01</span>                  0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 09001010201                   0.155            0.004<span style="text-decoration: underline;">00</span>                  0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 09001010202                   0.152            0.005<span style="text-decoration: underline;">84</span>                  0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 09001010300                   0.091<span style="text-decoration: underline;">8</span>           0.004<span style="text-decoration: underline;">95</span>                  0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 09001010400                   0.059<span style="text-decoration: underline;">9</span>           0.007<span style="text-decoration: underline;">02</span>                  0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 09001010500                   0.072<span style="text-decoration: underline;">6</span>           0.006<span style="text-decoration: underline;">40</span>                  0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 09001010600                   0.044<span style="text-decoration: underline;">3</span>           0.002<span style="text-decoration: underline;">33</span>                  0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 09001010700                   0.038<span style="text-decoration: underline;">2</span>           0.003<span style="text-decoration: underline;">89</span>                  0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 09001010800                   0.136            0.003<span style="text-decoration: underline;">68</span>                  0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 873 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ abbreviated names: ¹​segregation_small_geography,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ²​segregation_large_geography</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable: p_large_geography &lt;dbl&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Will Curran-Groome.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

