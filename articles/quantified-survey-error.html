<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Quantified Survey Errors and Accurate Inference-Making • urbnindicators</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Quantified Survey Errors and Accurate Inference-Making">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">urbnindicators</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9301</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/urbnindicators.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/codebook.html">The urbnindicators Codebook</a></li>
    <li><a class="dropdown-item" href="../articles/design-philosophy.html">Design Philosophy</a></li>
    <li><a class="dropdown-item" href="../articles/quantified-survey-error.html">Quantified Survey Errors and Accurate Inference-Making</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Quantified Survey Errors and Accurate Inference-Making</h1>
            
      

      <div class="d-none name"><code>quantified-survey-error.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ui-research.github.io/urbnindicators/">urbnindicators</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/UrbanInstitute/urbnthemes" class="external-link">urbnthemes</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://walker-data.com/tidycensus/" class="external-link">tidycensus</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span></span></code></pre></div>
<p>Because data from the American Community <strong>Survey</strong>
are–you guessed it–survey data, they are subject to sampling error.
Sampling error means, in very brief, that when we extrapolate from our
sample–say, 200 households out of a neighborhood of 1,000 households–we
make assumptions* that the sample is representative of the population.
These assumptions are inherently imperfect, and so the estimates we use
based on sample responses have a (quantifiable) amount of error
associated with them.</p>
<p>*In reality, the “assumptions” used by the Census Bureau to
extrapolate from survey responses to population estimates are very
sophisticated. When working with individual-level data via the ACS
Public Use Microdata Sample (PUMS), the error generated by these
assumptions can be calculated by using a set of 80 variables that
describe “replicate weights”. But when working with pre-tabulated ACS
estimates, as is the case here, the error generated by these assumptions
is conveniently reported alongside the associated estimate as margin of
error.</p>
<p>Using the known error around an estimate allows us to better say what
we do and do not know about the population. Without this information, we
might say, based on our sample of 20 households, that 5% of neighborhood
households are housing cost-burdened renter households. But when we
factor in the error around the estimate, we might say something more
nuanced, like: “Between 3.5% and 6.5% of households are housing
cost-burdened renter households.” This reflects that survey estimates
are more accurately thought of as a range of likely values, rather than
a single absolute value.</p>
<p>Using quantified error around survey estimates will allow us to do
three (at least) critical classes of activities to improve our
inference-making with these data:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Evaluate estimate quality</strong> to inform whether we
should, for example, aggregate our data to create more precise estimates
or select a different measure or data source.</p></li>
<li><p><strong>Conduct statistical significance testing</strong> to
evaluate whether an estimate is statistically significantly greater than
another estimate(s).</p></li>
<li><p><strong>Report and visualize error</strong> to our audiences so
that they can understand the limitations of the data.</p></li>
</ol>
<p>Below, we illustrate how urbnindicators facilitates each of these
three classes of activities. But first, a very quick overview of
measures of error.</p>
<ul>
<li><p><strong>Margins Of Error (MOE)</strong> are our baseline
measurement of error. The ACS reports MOEs at a 90% confidence level,
which enables us to say something like: “20% (±5%) of households in the
neighborhood have no access to a car.” (And then we should include,
either as a footnote or in the body of the document, that this and other
MOEs are calculated at the 90% confidence level). What this means in
practice is that if we were to repeat 100 times–using exactly the same
methods–our methods to calculate this estimate, 90 of those times we
would produce a parallel estimate between 15% and 25%, while 10 of those
times, our estimate would fall outside this range.</p></li>
<li><p><strong>Standard Errors (SE)</strong> are derived from MOEs by
dividing the MOE against a confidence level-related value.
urbnindicators returns 90% SEs, which are calculated by dividing an MOE
by 1.645.</p></li>
<li><p><strong>Coefficients of Variation (CV)</strong> relate error to
the size of the estimate. They are calculated by dividing the SE by the
estimate and then multiplying by 100. CVs are helpful because they
provide a unit-agnostic measurement of variable quality: a CV of 40 for
a given variable means the same thing as a CV of 40 for another
unrelated variable, whereas MOEs and SEs are not directly comparable
across variables.</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acs_df_county</span> <span class="op">=</span> <span class="fu"><a href="../reference/compile_acs_data.html">compile_acs_data</a></span><span class="op">(</span></span>
<span>  years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2022</span><span class="op">)</span>,</span>
<span>  geography <span class="op">=</span> <span class="st">"county"</span>,</span>
<span>  states <span class="op">=</span> <span class="st">"NJ"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Downloading: 44 kB     Downloading: 44 kB     Downloading: 46 kB     Downloading: 46 kB     Downloading: 46 kB     Downloading: 46 kB     Downloading: 81 kB     Downloading: 81 kB     Downloading: 110 kB     Downloading: 110 kB     Downloading: 110 kB     Downloading: 110 kB     Downloading: 120 kB     Downloading: 120 kB     Downloading: 120 kB     Downloading: 120 kB     Downloading: 130 kB     Downloading: 130 kB     Downloading: 150 kB     Downloading: 150 kB     Downloading: 200 kB     Downloading: 200 kB     Downloading: 200 kB     Downloading: 200 kB     Downloading: 210 kB     Downloading: 210 kB     Downloading: 260 kB     Downloading: 260 kB     Downloading: 380 kB     Downloading: 380 kB     Downloading: 460 kB     Downloading: 460 kB     Downloading: 520 kB     Downloading: 520 kB     Downloading: 2 MB     Downloading: 2 MB     Downloading: 2 MB     Downloading: 2 MB     Downloading: 3.7 MB     Downloading: 3.7 MB     Downloading: 5.3 MB     Downloading: 5.3 MB     Downloading: 7 MB     Downloading: 7 MB     Downloading: 8.6 MB     Downloading: 8.6 MB     Downloading: 10 MB     Downloading: 10 MB     Downloading: 12 MB     Downloading: 12 MB     Downloading: 12 MB     Downloading: 12 MB     Downloading: 12 MB     Downloading: 12 MB</span></span>
<span></span>
<span><span class="va">acs_df_tract</span> <span class="op">=</span> <span class="fu"><a href="../reference/compile_acs_data.html">compile_acs_data</a></span><span class="op">(</span></span>
<span>  years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2022</span><span class="op">)</span>,</span>
<span>  geography <span class="op">=</span> <span class="st">"tract"</span>,</span>
<span>  states <span class="op">=</span> <span class="st">"NJ"</span>,</span>
<span>  spatial <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |====================                                                  |  29%  |                                                                              |==========================                                            |  37%  |                                                                              |=============================                                         |  41%  |                                                                              |================================                                      |  46%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  54%  |                                                                              |=========================================                             |  58%  |                                                                              |============================================                          |  62%  |                                                                              |=============================================                         |  64%  |                                                                              |=================================================                     |  71%  |                                                                              |======================================================                |  77%  |                                                                              |==========================================================            |  83%  |                                                                              |======================================================================| 100%</span></span></code></pre></div>
<div class="section level2">
<h2 id="evaluate-estimate-quality">Evaluate Estimate Quality<a class="anchor" aria-label="anchor" href="#evaluate-estimate-quality"></a>
</h2>
<p>CVs allow us to assess whether estimates have problematically large
errors. While there’s not a right-or-wrong threshold for what
constitutes a good/bad CV, many people employ thresholds between 30 and
40 (that is, where there error is 30-40% of the size of the
estimate).</p>
<p>As shown below, variables that rely on larger sample sizes tend to
have smaller CVs. Typically, there are two strategies to reduce CVs: (1)
aggregate estimates, either across geographies or across variables, or
(2) use larger geographies.</p>
<p>We plan to add utilities to support users in aggregating estimates
and calculating adjusted measurements of error. For now, we warn that
any aggregation should be done with care, as error cannot be simply
added (or otherwise summarize) the way that estimates can.</p>
<p>(Note that in the visualization below, some tract-level CVs exceed
1000; we only represent those with values at or below 100).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">histogram_cvs</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">.df</span>, <span class="va">geography_type</span> <span class="op">=</span> <span class="st">"Tract"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">.df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"^age.*percent.*CV"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"(_6|_7|_8)"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">value</span>, fill <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="va">value</span> <span class="op">&lt;</span> <span class="fl">30</span>, <span class="st">"1"</span>, <span class="st">"0"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">30</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">name</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>fill <span class="op">=</span>  <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">urbnthemes</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/urbnthemes/man/theme_urbn_print.html" class="external-link">theme_urbn_print</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>        x <span class="op">=</span> <span class="st">"CV"</span>, </span>
<span>        y <span class="op">=</span> <span class="st">""</span>, </span>
<span>        subtitle <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_c.html" class="external-link">str_c</a></span><span class="op">(</span><span class="va">geography_type</span>, <span class="st">"-level estimates"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">county_plot</span> <span class="op">=</span> <span class="fu">histogram_cvs</span><span class="op">(</span><span class="va">acs_df_county</span>, geography_type <span class="op">=</span> <span class="st">"County"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_c.html" class="external-link">str_c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Estimates Relying on Larger Samples Generally Have Smaller CVs \n"</span>,</span>
<span>      <span class="st">"Combine Variables or Use Larger Geographies to Reduce Error"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tract_plot</span> <span class="op">=</span> <span class="fu">histogram_cvs</span><span class="op">(</span><span class="va">acs_df_tract</span>, geography_type <span class="op">=</span> <span class="st">"Tract"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gridExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span></span>
<span>  <span class="va">county_plot</span>,</span>
<span>  <span class="va">tract_plot</span>, </span>
<span>  ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="quantified-survey-error_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="conduct-statistical-significance-testing">Conduct Statistical Significance Testing<a class="anchor" aria-label="anchor" href="#conduct-statistical-significance-testing"></a>
</h2>
<p>Statistical significance testing is critical to understanding whether
estimates are meaningfully different. Estimates that may appear
substantially different in isolation are frequently, especially at
smaller geographies, not statistically significantly different because
there errors are so significant.</p>
<p>We’ll illustrate this numerically and demonstrate the impacts of
accounting for error when visualizing data, leveraging
<code><a href="https://walker-data.com/tidycensus/reference/significance.html" class="external-link">tidycensus::significance()</a></code> to conduct our actual tests.
Here, we’ll compare each tract-level value within a single county to
that of the corresponding county.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cv_to_moe</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">cv</span>, <span class="va">estimate</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">cv</span> <span class="op">/</span> <span class="fl">100</span> <span class="op">*</span> <span class="fl">1.645</span> <span class="op">*</span> <span class="va">estimate</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">plot_data</span> <span class="op">=</span> <span class="va">acs_df_tract</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">NAME</span>, <span class="st">"Atlantic"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">GEOID</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"age_over_64_percent"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>county_geoid <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_sub.html" class="external-link">str_sub</a></span><span class="op">(</span><span class="va">GEOID</span>, <span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="va">acs_df_county</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">NAME</span>, <span class="st">"Atlantic"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">GEOID</span>,<span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"age_over_64_percent"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename_with</a></span><span class="op">(</span></span>
<span>        .cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"age_over_64_percent"</span><span class="op">)</span>, </span>
<span>        .fn <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_c.html" class="external-link">str_c</a></span><span class="op">(</span><span class="va">.x</span>, <span class="st">"_county"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"county_geoid"</span> <span class="op">=</span> <span class="st">"GEOID"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    naive_comparison <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">age_over_64_percent</span> <span class="op">&gt;</span> <span class="va">age_over_64_percent_county</span> <span class="op">~</span> <span class="st">"Larger"</span>,</span>
<span>      <span class="va">age_over_64_percent</span> <span class="op">&lt;</span> <span class="va">age_over_64_percent_county</span> <span class="op">~</span> <span class="st">"Smaller"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"Equal"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span>levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Smaller"</span>, <span class="st">"Equal"</span>, <span class="st">"Larger"</span><span class="op">)</span>, ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    significance <span class="op">=</span> <span class="fu">tidycensus</span><span class="fu">::</span><span class="fu"><a href="https://walker-data.com/tidycensus/reference/significance.html" class="external-link">significance</a></span><span class="op">(</span></span>
<span>      est1 <span class="op">=</span> <span class="va">age_over_64_percent</span>,</span>
<span>      est2 <span class="op">=</span> <span class="va">age_over_64_percent_county</span>,</span>
<span>      moe1 <span class="op">=</span> <span class="fu">cv_to_moe</span><span class="op">(</span>cv <span class="op">=</span> <span class="va">age_over_64_percent_CV</span>, estimate <span class="op">=</span> <span class="va">age_over_64_percent</span><span class="op">)</span>,</span>
<span>      moe2 <span class="op">=</span> <span class="fu">cv_to_moe</span><span class="op">(</span>cv <span class="op">=</span> <span class="va">age_over_64_percent_CV_county</span>, estimate <span class="op">=</span> <span class="va">age_over_64_percent_county</span><span class="op">)</span>,</span>
<span>      clevel <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span>,</span>
<span>    significance_direction <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">significance</span> <span class="op">==</span> <span class="cn">FALSE</span> <span class="op">~</span> <span class="st">"Not significant"</span>,</span>
<span>      <span class="va">significance</span> <span class="op">==</span> <span class="cn">TRUE</span> <span class="op">&amp;</span> <span class="va">age_over_64_percent</span> <span class="op">&gt;</span> <span class="va">age_over_64_percent_county</span> <span class="op">~</span> <span class="st">"Significantly larger"</span>,</span>
<span>      <span class="va">significance</span> <span class="op">==</span> <span class="cn">TRUE</span> <span class="op">&amp;</span> <span class="va">age_over_64_percent</span> <span class="op">&lt;</span> <span class="va">age_over_64_percent_county</span> <span class="op">~</span> <span class="st">"Significantly smaller"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span>levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Significantly smaller"</span>, <span class="st">"Not significant"</span>, <span class="st">"Significantly larger"</span><span class="op">)</span>, ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span>    </span>
<span></span>
<span><span class="va">statistically_significant</span> <span class="op">=</span> <span class="va">plot_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">significance_direction</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Significantly larger"</span> <span class="op">=</span> <span class="st">"#73bfe2"</span>,</span>
<span>      <span class="st">"Significantly smaller"</span> <span class="op">=</span> <span class="st">"#fdd870"</span>,</span>
<span>      <span class="st">"Not significant"</span> <span class="op">=</span> <span class="st">"lightgrey"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/urbnthemes/man/theme_urbn_map.html" class="external-link">theme_urbn_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>      fill <span class="op">=</span> <span class="st">"Statistical significance"</span>,</span>
<span>      title <span class="op">=</span> <span class="st">"Many Tract-Level Estimates Are Not Statistically Significantly Different from the County-Level Estimate"</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="fl">80</span><span class="op">)</span>,</span>
<span>      subtitle <span class="op">=</span> <span class="st">"Tract-level share of the population 65+ vs. county-level estimate, Atlantic County, NJ"</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="fl">60</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">error_naive</span> <span class="op">=</span> <span class="va">plot_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">naive_comparison</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Larger"</span> <span class="op">=</span> <span class="st">"#73bfe2"</span>,</span>
<span>      <span class="st">"Smaller"</span> <span class="op">=</span> <span class="st">"#fdd870"</span>,</span>
<span>      <span class="st">"Equal"</span> <span class="op">=</span> <span class="st">"lightgrey"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/urbnthemes/man/theme_urbn_map.html" class="external-link">theme_urbn_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>      fill <span class="op">=</span> <span class="st">"Error-naive comparison"</span>,</span>
<span>      title <span class="op">=</span> <span class="st">"\n\n"</span>, </span>
<span>      subtitle <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gridExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span></span>
<span>  <span class="va">statistically_significant</span>,</span>
<span>  <span class="va">error_naive</span>, </span>
<span>  ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="quantified-survey-error_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">signficance_test_data</span> <span class="op">=</span> <span class="va">plot_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">GEOID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"34001011901"</span>, <span class="st">"34001001900"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## TRUE</span></span>
<span><span class="va">significant_difference</span> <span class="op">=</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/significance.html" class="external-link">significance</a></span><span class="op">(</span></span>
<span>  est1 <span class="op">=</span> <span class="va">signficance_test_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">GEOID</span> <span class="op">==</span> <span class="st">"34001001900"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">age_over_64_percent</span><span class="op">)</span>,</span>
<span>  est2 <span class="op">=</span> <span class="va">signficance_test_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">GEOID</span> <span class="op">==</span> <span class="st">"34001011901"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">age_over_64_percent</span><span class="op">)</span>,</span>
<span>  moe1 <span class="op">=</span> <span class="fu">cv_to_moe</span><span class="op">(</span></span>
<span>    cv <span class="op">=</span> <span class="va">signficance_test_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">GEOID</span> <span class="op">==</span> <span class="st">"34001001900"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">age_over_64_percent_CV</span><span class="op">)</span>, </span>
<span>    estimate <span class="op">=</span> <span class="va">signficance_test_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">GEOID</span> <span class="op">==</span> <span class="st">"34001001900"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">age_over_64_percent</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  moe2 <span class="op">=</span> <span class="fu">cv_to_moe</span><span class="op">(</span></span>
<span>    cv <span class="op">=</span> <span class="va">signficance_test_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">GEOID</span> <span class="op">==</span> <span class="st">"34001011901"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">age_over_64_percent_CV</span><span class="op">)</span>,</span>
<span>    estimate <span class="op">=</span> <span class="va">signficance_test_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">GEOID</span> <span class="op">==</span> <span class="st">"34001011901"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">age_over_64_percent</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">GEOID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"34001011901"</span>, <span class="st">"34001001900"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">GEOID</span>, x <span class="op">=</span> <span class="va">age_over_64_percent</span>, color <span class="op">=</span> <span class="va">GEOID</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_errorbar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>      xmin <span class="op">=</span> <span class="va">age_over_64_percent</span> <span class="op">-</span> <span class="fu">cv_to_moe</span><span class="op">(</span>cv <span class="op">=</span> <span class="va">age_over_64_percent_CV</span>, estimate <span class="op">=</span> <span class="va">age_over_64_percent</span><span class="op">)</span>,</span>
<span>      xmax <span class="op">=</span> <span class="va">age_over_64_percent</span> <span class="op">+</span> <span class="fu">cv_to_moe</span><span class="op">(</span>cv <span class="op">=</span> <span class="va">age_over_64_percent_CV</span>, estimate <span class="op">=</span> <span class="va">age_over_64_percent</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      width <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/urbnthemes/man/theme_urbn_print.html" class="external-link">theme_urbn_print</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Share of population over 64"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Tract"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Despite the Estimate for One Tract Tripling That of the Other, the Difference is Barely Statistically Significant Owing to the Large Errors"</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="quantified-survey-error_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="report-and-visualize-error">Report and Visualize Error<a class="anchor" aria-label="anchor" href="#report-and-visualize-error"></a>
</h2>
<p>The ability to quantify error both allows us to conduct statistical
significance testing and to directly report error, either in text and/or
via visualizations. As illustrated above, MOEs can be reported directly
alongside estimates in the text as parentheticals: estimate (±MOE). A
similar approach can be employed for statistical significance testing,
with statistical significance being notated as a “*“, for example, or
via a longer”p &lt; .10” statement.</p>
<p>For most such cases, it will be helpful to provide some guidance to
your audience about what the MOE/statistical significance means and how
it should shape their interpretation of point estimates, such as via a
footnote/endnote, through a call-out box, or in a section on your
methods.</p>
<p>In tables, you can either present MOEs/statistical significance in
the same cell as the point estimates or via a companion column.
Depending on your goals, CVs may be used to altogethersuppress some
estimates within a table, though this approach also has limitations
(e.g., it may lead to obscuring important but small-population groups or
geographies, not just in a single table but across many such
tables).</p>
<p>There are myriad approaches to visualizing error. Generally, the use
of error bars (look no further than the visual immediately above) should
be avoided, as research consistently shows that most audiences do not
interpret such bars accurately. The excellent
<code><a href="https://mjskay.github.io/ggdist/" class="external-link">library(ggdist)</a></code> provides an array of methods for different
styles and methods of visualizing error, while visualizing statistical
significance relative to a benchmark (see the map above) is another
common approach.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Will Curran-Groome.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
