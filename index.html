<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Out of the Box Social Science Indicators from the American Community Survey (ACS) • urbnindicators</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Out of the Box Social Science Indicators from the American Community Survey (ACS)">
<meta name="description" content="There are many packages available that facilitate queries to the Census Bureau API, but subsequent steps in the analysis workflow still require significant work (much of which must be repeated from analysis to analysis), such as identifying and selecting relevant variables, determining how to accurately calculate derived measures (e.g., percentages), and naming variables semantically. urbnindicators abstracts much of this process away and provides users a simple interface to obtain commonly-used social sciences measures from the ACS.">
<meta property="og:description" content="There are many packages available that facilitate queries to the Census Bureau API, but subsequent steps in the analysis workflow still require significant work (much of which must be repeated from analysis to analysis), such as identifying and selecting relevant variables, determining how to accurately calculate derived measures (e.g., percentages), and naming variables semantically. urbnindicators abstracts much of this process away and provides users a simple interface to obtain commonly-used social sciences measures from the ACS.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">urbnindicators</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9301</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/urbnindicators.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/codebook.html">codebook</a></li>
    <li><a class="dropdown-item" href="articles/design-philosophy.html">Design Philosophy</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="urbnindicators">urbnindicators<a class="anchor" aria-label="anchor" href="#urbnindicators"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
</div>
<div class="section level1">
<h1 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h1>
<p>The goal of <strong><code>urbnindicators</code></strong> is to provide users with analysis-ready data from the American Community Survey (ACS). With a single function call, you get:</p>
<ul>
<li><p>Hundreds of standardized variables, such as percentages, in addition to the raw count variables used to produce them.</p></li>
<li><p>Meaningful, consistent variable names.</p></li>
<li><p>A codebook that describes how each variable is calculated.</p></li>
<li><p>The built-in capacity to pull data for multiple years and multiple states.</p></li>
<li><p>Supplemental measures, such as population density, that aren’t available from the ACS.</p></li>
<li><p>Built-in quality checks to help ensure that calculated variables are accurate.</p></li>
</ul>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<p>Install the development version of <code>urbnindicators</code> from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"renv"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"UI-Research/urbnindicators"</span>)</span></code></pre></div>
<p>Note that this package is under active development with frequent updates–check to ensure you have the most recent version installed!</p>
</div>
<div class="section level1">
<h1 id="use">Use<a class="anchor" aria-label="anchor" href="#use"></a>
</h1>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">set_urbn_defaults</span><span class="op">(</span>style <span class="op">=</span> <span class="st">"print"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">acs_df</span> <span class="op">=</span> <span class="fu"><a href="reference/compile_acs_data.html">compile_acs_data</a></span><span class="op">(</span></span>
<span>  variables <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2017</span>, <span class="fl">2022</span><span class="op">)</span>,</span>
<span>  geography <span class="op">=</span> <span class="st">"county"</span>,</span>
<span>  states <span class="op">=</span> <span class="st">"NJ"</span>,</span>
<span>  counties <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spatial <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">plot_data</span> <span class="op">=</span> <span class="va">acs_df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">transmute</span><span class="op">(</span></span>
<span>    county_name <span class="op">=</span> <span class="va">NAME</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">str_remove</span><span class="op">(</span><span class="st">" County, New Jersey"</span><span class="op">)</span>, </span>
<span>    <span class="va">race_personofcolor_percent</span>, </span>
<span>    <span class="va">data_source_year</span><span class="op">)</span></span>
<span></span>
<span><span class="va">state_averages</span> <span class="op">=</span> <span class="va">plot_data</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">data_source_year</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">summarize</span><span class="op">(</span>mean_race_personofcolor_percent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">race_personofcolor_percent</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="va">data_source_year</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">pull</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dumbbell_data</span> <span class="op">=</span> <span class="va">plot_data</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">pivot_wider</span><span class="op">(</span></span>
<span>    names_from <span class="op">=</span> <span class="va">data_source_year</span>, </span>
<span>    values_from <span class="op">=</span> <span class="va">race_personofcolor_percent</span>, </span>
<span>    names_prefix <span class="op">=</span> <span class="st">"year_"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_segment</span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">dumbbell_data</span>,</span>
<span>    <span class="fu">aes</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">county_name</span>, <span class="va">year_2017</span><span class="op">)</span>,</span>
<span>      y <span class="op">=</span> <span class="va">year_2017</span>,</span>
<span>      yend <span class="op">=</span> <span class="va">year_2022</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="va">palette_urbn_main</span><span class="op">[</span><span class="fl">7</span><span class="op">]</span>,</span>
<span>    linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">plot_data</span>, </span>
<span>    <span class="fu">aes</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">county_name</span>, <span class="va">race_personofcolor_percent</span><span class="op">)</span>, </span>
<span>      y <span class="op">=</span> <span class="va">race_personofcolor_percent</span>, </span>
<span>      color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">data_source_year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">annotate</span><span class="op">(</span></span>
<span>    <span class="st">"text"</span>, </span>
<span>    y <span class="op">=</span> <span class="fl">.31</span>,  </span>
<span>    x <span class="op">=</span> <span class="fl">21.5</span>, </span>
<span>    label <span class="op">=</span> <span class="st">"State mean (2017)"</span>, </span>
<span>    fontface <span class="op">=</span> <span class="st">"bold.italic"</span>, </span>
<span>    color <span class="op">=</span> <span class="va">palette_urbn_main</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">annotate</span><span class="op">(</span></span>
<span>    <span class="st">"text"</span>, </span>
<span>    y <span class="op">=</span> <span class="fl">.47</span>,  </span>
<span>    x <span class="op">=</span> <span class="fl">21.5</span>, </span>
<span>    label <span class="op">=</span> <span class="st">"State mean (2022)"</span>, </span>
<span>    fontface <span class="op">=</span> <span class="st">"bold.italic"</span>, </span>
<span>    color <span class="op">=</span> <span class="va">palette_urbn_main</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_hline</span><span class="op">(</span></span>
<span>    yintercept <span class="op">=</span> <span class="va">state_averages</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, </span>
<span>    linetype <span class="op">=</span> <span class="st">"dashed"</span>, </span>
<span>    color <span class="op">=</span> <span class="va">palette_urbn_main</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_hline</span><span class="op">(</span></span>
<span>    yintercept <span class="op">=</span> <span class="va">state_averages</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, </span>
<span>    linetype <span class="op">=</span> <span class="st">"dashed"</span>, </span>
<span>    color <span class="op">=</span> <span class="va">palette_urbn_main</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Change in NJ Counties' Racial Composition, 2017 to 2022"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="st">"On average, counties in NJ saw a "</span>, </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">state_averages</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="va">state_averages</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, </span>
<span>      <span class="st">" pecentage point increase in the share of the population who are people of color from 2017 to 2022."</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu">str_wrap</span><span class="op">(</span><span class="fl">120</span><span class="op">)</span>, </span>
<span>    x <span class="op">=</span> <span class="st">"County"</span>, </span>
<span>    y <span class="op">=</span> <span class="st">"Share of population who are people of color"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"Year"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_x_discrete</span><span class="op">(</span>expand <span class="op">=</span> <span class="fu">expansion</span><span class="op">(</span>mult <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.03</span>, <span class="fl">0.04</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_y_continuous</span><span class="op">(</span></span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">.25</span>, <span class="fl">.50</span>, <span class="fl">.75</span>, <span class="fl">1.0</span><span class="op">)</span>,</span>
<span>    limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">.75</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/percent_format.html" class="external-link">percent</a></span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
</div>
<div class="section level1">
<h1 id="credits">Credits<a class="anchor" aria-label="anchor" href="#credits"></a>
</h1>
<p>This package is built on top of and enormously indebted to <code><a href="https://walker-data.com/tidycensus/" class="external-link">library(tidycensus)</a></code>, which provides the core functionality for accessing the Census Bureau API.</p>
<p>For users who want additional variables, <code><a href="https://walker-data.com/tidycensus/" class="external-link">library(tidycensus)</a></code> exposes the entire range of pre-tabulated variables available from the ACS, as well as access to ACS microdata and other Census Bureau datasets. Learn more here: <a href="https://walker-data.com/tidycensus/index.html" class="external-link uri">https://walker-data.com/tidycensus/index.html</a>.</p>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3) + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing urbnindicators</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Will Curran-Groome <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://www.gnu.org/licenses/gpl-3.0" class="external-link"><img src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License: GPL v3"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Will Curran-Groome.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
